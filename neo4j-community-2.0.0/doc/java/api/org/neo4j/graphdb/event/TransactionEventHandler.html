<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Sun Dec 08 14:57:11 UTC 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>TransactionEventHandler (Neo4j Community 2.0.0 API)</title>
<meta name="date" content="2013-12-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TransactionEventHandler (Neo4j Community 2.0.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionEventHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Neo4j Community</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.Adapter.html" title="class in org.neo4j.graphdb.event"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/neo4j/graphdb/event/TransactionEventHandler.html" target="_top">Frames</a></li>
<li><a href="TransactionEventHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.neo4j.graphdb.event</div>
<h2 title="Interface TransactionEventHandler" class="title">Interface TransactionEventHandler&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>T</code> - The type of a state object that the transaction handler can use to
            pass information from the <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a>
            event dispatch method to the
            <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterCommit(org.neo4j.graphdb.event.TransactionData, T)"><code>afterCommit(TransactionData, Object)</code></a> or
            <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterRollback(org.neo4j.graphdb.event.TransactionData, T)"><code>afterRollback(TransactionData, Object)</code></a> method, depending
            on whether the transaction succeeded or failed.</dd></dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.Adapter.html" title="class in org.neo4j.graphdb.event">TransactionEventHandler.Adapter</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">TransactionEventHandler&lt;T&gt;</span></pre>
<div class="block">An event handler interface for Neo4j Transaction events. Once it has been
 registered at a <a href="../../../../org/neo4j/graphdb/GraphDatabaseService.html" title="interface in org.neo4j.graphdb"><code>GraphDatabaseService</code></a> instance it will receive events
 about what has happened in each transaction which is about to be committed.
 Handlers won't get notified about transactions which hasn't performed any
 write operation or won't be committed (either if
 <a href="../../../../org/neo4j/graphdb/Transaction.html#success()"><code>Transaction.success()</code></a> hasn't been called or the transaction has been
 marked as failed, <a href="../../../../org/neo4j/graphdb/Transaction.html#failure()"><code>Transaction.failure()</code></a>.
 <p>
 Right before a transaction is about to be committed the
 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a> method is called with the entire diff
 of modifications made in the transaction. At this point the transaction is
 still running so changes can still be made. However there's no guarantee that
 other handlers will see such changes since the order in which handlers are
 executed is undefined. This method can also throw an exception and will, in
 such a case, prevent the transaction from being committed.
 <p>
 If <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a> is successfully executed the
 transaction will be committed and the
 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterCommit(org.neo4j.graphdb.event.TransactionData, T)"><code>afterCommit(TransactionData, Object)</code></a> method will be called with the
 same transaction data as well as the object returned from
 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a>. This assumes that all other handlers
 (if more were registered) also executed
 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a> successfully.
 <p>
 If <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a> isn't executed successfully, but
 instead throws an exception the transaction won't be committed and a
 <a href="../../../../org/neo4j/graphdb/TransactionFailureException.html" title="class in org.neo4j.graphdb"><code>TransactionFailureException</code></a> will (eventually) be thrown from
 <a href="../../../../org/neo4j/graphdb/Transaction.html#close()"><code>Transaction.close()</code></a>. All handlers which at this point have had its
 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a> method executed successfully will
 receive a call to <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterRollback(org.neo4j.graphdb.event.TransactionData, T)"><code>afterRollback(TransactionData, Object)</code></a>.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Tobias Ivarsson, Mattias Persson</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.Adapter.html" title="class in org.neo4j.graphdb.event">TransactionEventHandler.Adapter</a>&lt;<a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.Adapter.html" title="type parameter in TransactionEventHandler.Adapter">T</a>&gt;</strong></code>
<div class="block">Adapter for a <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="interface in org.neo4j.graphdb.event"><code>TransactionEventHandler</code></a></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterCommit(org.neo4j.graphdb.event.TransactionData, T)">afterCommit</a></strong>(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data,
           <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a>&nbsp;state)</code>
<div class="block">Invoked after the transaction has been committed successfully.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterRollback(org.neo4j.graphdb.event.TransactionData, T)">afterRollback</a></strong>(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data,
             <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a>&nbsp;state)</code>
<div class="block">Invoked after the transaction has been rolled back if committing the
 transaction failed for some reason.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)">beforeCommit</a></strong>(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data)</code>
<div class="block">Invoked when a transaction is about to be committed.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="beforeCommit(org.neo4j.graphdb.event.TransactionData)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beforeCommit</h4>
<pre><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a>&nbsp;beforeCommit(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data)
               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Invoked when a transaction is about to be committed.

 If this method throws an exception the transaction will be rolled back
 and a <a href="../../../../org/neo4j/graphdb/TransactionFailureException.html" title="class in org.neo4j.graphdb"><code>TransactionFailureException</code></a> will be thrown from
 <a href="../../../../org/neo4j/graphdb/Transaction.html#close()"><code>Transaction.close()</code></a>.

 The transaction is still open when this method is invoked, making it
 possible to perform mutating operations in this method. This is however
 highly discouraged. Changes made in this method are not guaranteed to be
 visible by this or other <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="interface in org.neo4j.graphdb.event"><code>TransactionEventHandler</code></a>s.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - the changes that will be committed in this transaction.</dd>
<dt><span class="strong">Returns:</span></dt><dd>a state object (or <code>null</code>) that will be passed on to
         <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterCommit(org.neo4j.graphdb.event.TransactionData, T)"><code>afterCommit(TransactionData, Object)</code></a> or
         <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#afterRollback(org.neo4j.graphdb.event.TransactionData, T)"><code>afterRollback(TransactionData, Object)</code></a> of this object.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - to indicate that the transaction should be rolled back.</dd></dl>
</li>
</ul>
<a name="afterCommit(org.neo4j.graphdb.event.TransactionData,java.lang.Object)">
<!--   -->
</a><a name="afterCommit(org.neo4j.graphdb.event.TransactionData, T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterCommit</h4>
<pre>void&nbsp;afterCommit(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data,
               <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a>&nbsp;state)</pre>
<div class="block">Invoked after the transaction has been committed successfully.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - the changes that were committed in this transaction.</dd><dd><code>state</code> - the object returned by
            <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a>.</dd></dl>
</li>
</ul>
<a name="afterRollback(org.neo4j.graphdb.event.TransactionData,java.lang.Object)">
<!--   -->
</a><a name="afterRollback(org.neo4j.graphdb.event.TransactionData, T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>afterRollback</h4>
<pre>void&nbsp;afterRollback(<a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event">TransactionData</a>&nbsp;data,
                 <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html" title="type parameter in TransactionEventHandler">T</a>&nbsp;state)</pre>
<div class="block">Invoked after the transaction has been rolled back if committing the
 transaction failed for some reason.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>data</code> - the changes that were committed in this transaction.</dd><dd><code>state</code> - the object returned by
            <a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.html#beforeCommit(org.neo4j.graphdb.event.TransactionData)"><code>beforeCommit(TransactionData)</code></a>.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransactionEventHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Neo4j Community</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/neo4j/graphdb/event/TransactionData.html" title="interface in org.neo4j.graphdb.event"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/neo4j/graphdb/event/TransactionEventHandler.Adapter.html" title="class in org.neo4j.graphdb.event"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/neo4j/graphdb/event/TransactionEventHandler.html" target="_top">Frames</a></li>
<li><a href="TransactionEventHandler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2002&#x2013;2013 <a href="http://neo4j.org/">The Neo4j Graph Database Project</a>. All rights reserved.</small></p>
</body>
</html>
