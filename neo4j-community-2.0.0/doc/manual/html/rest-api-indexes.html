<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>19.18. Legacy indexing</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.76.1" /><link rel="home" href="index.html" title="The Neo4j Manual v2.0.0" /><link rel="up" href="rest-api.html" title="Chapter 19. REST API" /><link rel="prev" href="rest-api-batch-ops.html" title="19.17. Batch operations" /><link rel="next" href="rest-api-unique-indexes.html" title="19.19. Unique Indexing" /><link rel="preface" href="preface.html" title="Preface" /><link rel="part" href="introduction.html" title="Part I. Introduction" /><link rel="chapter" href="introduction-highlights.html" title="Chapter 1. Neo4j Highlights" /><link rel="chapter" href="graphdb-concepts.html" title="Chapter 2. Graph Database Concepts" /><link rel="chapter" href="graphdb-neo4j.html" title="Chapter 3. The Neo4j Graph Database" /><link rel="part" href="tutorials.html" title="Part II. Tutorials" /><link rel="chapter" href="tutorials-cypher.html" title="Chapter 4. Getting started with Cypher" /><link rel="chapter" href="data-modeling-examples.html" title="Chapter 5. Data Modeling Examples" /><link rel="chapter" href="languages.html" title="Chapter 6. Languages" /><link rel="part" href="cypher-query-lang.html" title="Part III. Cypher Query Language" /><link rel="chapter" href="cypher-intro.html" title="Chapter 7. Introduction" /><link rel="chapter" href="query-syntax.html" title="Chapter 8. Syntax" /><link rel="chapter" href="query-general.html" title="Chapter 9. General Clauses" /><link rel="chapter" href="query-read.html" title="Chapter 10. Reading Clauses" /><link rel="chapter" href="query-write.html" title="Chapter 11. Writing Clauses" /><link rel="chapter" href="query-function.html" title="Chapter 12. Functions" /><link rel="chapter" href="cypher-schema.html" title="Chapter 13. Schema" /><link rel="chapter" href="examples-from-sql-to-cypher.html" title="Chapter 14. From SQL to Cypher" /><link rel="part" href="reference-documentation.html" title="Part IV. Reference" /><link rel="chapter" href="capabilities.html" title="Chapter 15. Capabilities" /><link rel="chapter" href="transactions.html" title="Chapter 16. Transaction Management" /><link rel="chapter" href="import.html" title="Chapter 17. Data Import" /><link rel="chapter" href="graph-algo.html" title="Chapter 18. Graph Algorithms" /><link rel="chapter" href="rest-api.html" title="Chapter 19. REST API" /><link rel="chapter" href="deprecations.html" title="Chapter 20. Deprecations" /><link rel="part" href="operations.html" title="Part V. Operations" /><link rel="chapter" href="deployment.html" title="Chapter 21. Installation &amp; Deployment" /><link rel="chapter" href="embedded-configuration.html" title="Chapter 22. Configuration &amp; Performance" /><link rel="chapter" href="ha.html" title="Chapter 23. High Availability" /><link rel="chapter" href="operations-backup.html" title="Chapter 24. Backup" /><link rel="chapter" href="operations-security.html" title="Chapter 25. Security" /><link rel="chapter" href="operations-monitoring.html" title="Chapter 26. Monitoring" /><link rel="part" href="tools.html" title="Part VI. Tools" /><link rel="chapter" href="tools-webadmin.html" title="Chapter 27. Web Interface" /><link rel="chapter" href="shell.html" title="Chapter 28. Neo4j Shell" /><link rel="part" href="community.html" title="Part VII. Community" /><link rel="chapter" href="community-support.html" title="Chapter 29. Community Support" /><link rel="chapter" href="community-contributing.html" title="Chapter 30. Contributing to Neo4j" /><link rel="part" href="advanced-usage.html" title="Part VIII. Advanced Usage" /><link rel="chapter" href="server-extending.html" title="Chapter 31. Extending the Neo4j Server" /><link rel="chapter" href="tutorials-java-embedded.html" title="Chapter 32. Using Neo4j embedded in Java applications" /><link rel="chapter" href="tutorial-traversal.html" title="Chapter 33. The Traversal Framework" /><link rel="chapter" href="indexing.html" title="Chapter 34. Legacy Indexing" /><link rel="chapter" href="batchinsert.html" title="Chapter 35. Batch Insertion" /><link rel="appendix" href="manpages.html" title="Appendix A. Manpages" /><link rel="refentry" href="re01.html" title="neo4j" /><link rel="refentry" href="re02.html" title="neo4j-installer" /><link rel="refentry" href="re03.html" title="neo4j-shell" /><link rel="refentry" href="re04.html" title="neo4j-backup" /><link rel="refentry" href="re05.html" title="neo4j-arbiter" /><link rel="subsection" href="rest-api-indexes.html#rest-api-create-node-index" title="19.18.1. Create node index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-create-node-index-with-configuration" title="19.18.2. Create node index with configuration" /><link rel="subsection" href="rest-api-indexes.html#rest-api-delete-node-index" title="19.18.3. Delete node index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-list-node-indexes" title="19.18.4. List node indexes" /><link rel="subsection" href="rest-api-indexes.html#rest-api-add-node-to-index" title="19.18.5. Add node to index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node-from-an-index" title="19.18.6. Remove all entries with a given node from an index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node-and-key-from-an-index" title="19.18.7. Remove all entries with a given node and key from an index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node" title="19.18.8. Remove all entries with a given node, key and value from an index" /><link rel="subsection" href="rest-api-indexes.html#rest-api-find-node-by-exact-match" title="19.18.9. Find node by exact match" /><link rel="subsection" href="rest-api-indexes.html#rest-api-find-node-by-query" title="19.18.10. Find node by query" /><link rel="copyright" href="ln-idp218960.html" title="License: Creative Commons 3.0" />


<!-- favicon -->

<link rel="shortcut icon" href="http://neo4j.org/favicon.ico" type="image/vnd.microsoft.icon" />
<link rel="icon" href="http://neo4j.org/favicon.ico" type="image/x-icon" />

<!-- style -->

<link href="css/shCore.css" rel="stylesheet" type="text/css" />
<link href="css/shCoreEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/shThemeEclipse.css" rel="stylesheet" type="text/css" />
<link href="css/neo.css" rel="stylesheet" type="text/css" />

<!-- Syntax Highlighter -->

<script type="text/javascript" src="js/shCore.js"></script>
<script type="text/javascript" src="js/shBrushJava.js"></script>
<script type="text/javascript" src="js/shBrushJScript.js"></script>
<script type="text/javascript" src="js/shBrushBash.js"></script>
<script type="text/javascript" src="js/shBrushPlain.js"></script>
<script type="text/javascript" src="js/shBrushXml.js"></script>
<script type="text/javascript" src="js/shBrushGroovy.js"></script>
<script type="text/javascript" src="js/shBrushCypher.js"></script>
<script type="text/javascript" src="js/shBrushScala.js"></script>
<script type="text/javascript" src="js/shBrushSql.js"></script>
<script type="text/javascript" src="js/shBrushPython.js"></script>
<script type="text/javascript" src="js/shBrushProperties.js"></script>

<!-- activate when needed
<script type="text/javascript" src="js/shBrushRuby.js"></script>
<script type="text/javascript" src="js/shBrushCSharp.js"></script>
-->
 
<script type="text/javascript">
  SyntaxHighlighter.defaults['tab-size'] = 4;
  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.all()
</script>

<!-- JQuery -->

<script type="text/javascript" src="js/jquery-1.6.4.min.js"></script>

<!-- Replace SVG for browsers that lack support. -->
<script type="text/javascript" src="js/svgreplacer.js"></script>

<!-- Image Scaler -->

<script type="text/javascript" src="js/imagescaler.js"></script>

<!-- Table Styler -->

<script type="text/javascript" src="js/tablestyler.js"></script>

<!-- Version -->

<script type="text/javascript" src="js/version.js"></script>

<!-- Offline Sidebar -->

<script type="text/javascript" src="js/sidebar.js"></script>


<div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">The Neo4j Manual</a></span> &gt; <span class="breadcrumb-link"><a href="reference-documentation.html">Reference</a></span> &gt; <span class="breadcrumb-link"><a href="rest-api.html">REST API</a></span> &gt; <span class="breadcrumb-node">Legacy indexing</span></div></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="rest-api-batch-ops.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="rest-api-unique-indexes.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="rest-api-indexes"></a>19.18. Legacy indexing</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="rest-api-indexes.html#rest-api-create-node-index">19.18.1. Create node index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-create-node-index-with-configuration">19.18.2. Create node index with configuration</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-delete-node-index">19.18.3. Delete node index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-list-node-indexes">19.18.4. List node indexes</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-add-node-to-index">19.18.5. Add node to index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node-from-an-index">19.18.6. Remove all entries with a given node from an index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node-and-key-from-an-index">19.18.7. Remove all entries with a given node and key from an index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-remove-all-entries-with-a-given-node">19.18.8. Remove all entries with a given node, key and value from an index</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-find-node-by-exact-match">19.18.9. Find node by exact match</a></span></dt><dt><span class="section"><a href="rest-api-indexes.html#rest-api-find-node-by-query">19.18.10. Find node by query</a></span></dt></dl></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>This documents the legacy indexing in Neo4j, which is no longer the preferred way to handle indexes. Consider looking at <a class="xref" href="rest-api-schema-indexes.html" title="19.13. Indexing">Section 19.13, “Indexing”</a>.</p></td></tr></table></div><p>An index can contain either nodes or relationships.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>To create an index with default configuration, simply start using it by adding nodes/relationships to it. It will then be automatically created for you.</p></td></tr></table></div><p>What default configuration means depends on how you have configured your database.
If you haven’t changed any indexing configuration, it means the indexes will be using a Lucene-based backend.</p><p>All the examples below show you how to do operations on node indexes, but all of them are just as applicable
to relationship indexes. Simple change the "node" part of the URL to "relationship".</p><p>If you want to customize the index settings, see <a class="xref" href="rest-api-indexes.html#rest-api-create-node-index-with-configuration" title="19.18.2. Create node index with configuration">Section 19.18.2, “Create node index with configuration”</a>.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-create-node-index"></a>19.18.1. Create node index</h3></div></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Instead of creating the index this way, you can simply start to use
it, and it will be created automatically with default configuration.</p></td></tr></table></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "name" : "favorites"
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">201:</code></strong></span> <code class="literal">Created</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Location:</code></strong></span> <code class="literal">http://localhost:7474/db/data/index/node/favorites/</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "template" : "http://localhost:7474/db/data/index/node/favorites/{key}/{value}"
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-create-node-index-with-configuration"></a>19.18.2. Create node index with configuration</h3></div></div></div><p>This request is only necessary if
you want to customize the index settings. If you are happy with the
defaults, you can just start indexing nodes/relationships, as
non-existent indexes will automatically be created as you do. See
<a class="xref" href="indexing-create-advanced.html" title="34.10. Configuration and fulltext indexes">Section 34.10, “Configuration and fulltext indexes”</a> for more information on index configuration.</p><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "name" : "fulltext",
  "config" : {
    "type" : "fulltext",
    "provider" : "lucene"
  }
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">201:</code></strong></span> <code class="literal">Created</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Location:</code></strong></span> <code class="literal">http://localhost:7474/db/data/index/node/fulltext/</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "template" : "http://localhost:7474/db/data/index/node/fulltext/{key}/{value}",
  "type" : "fulltext",
  "provider" : "lucene"
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-delete-node-index"></a>19.18.3. Delete node index</h3></div></div></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">DELETE</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/kvnode</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">204:</code></strong></span> <code class="literal">No Content</code>
</li></ul></div><pre class="programlisting brush: javascript"></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-list-node-indexes"></a>19.18.4. List node indexes</h3></div></div></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">GET</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "node_auto_index" : {
    "template" : "http://localhost:7474/db/data/index/node/node_auto_index/{key}/{value}",
    "provider" : "lucene",
    "type" : "exact"
  },
  "favorites" : {
    "template" : "http://localhost:7474/db/data/index/node/favorites/{key}/{value}",
    "provider" : "lucene",
    "type" : "exact"
  }
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-add-node-to-index"></a>19.18.5. Add node to index</h3></div></div></div><p>Associates a node with the given key/value pair in the given index.</p><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Spaces in the URI have to be encoded as <code class="literal">%20</code>.</p></td></tr></table></div><div class="caution" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="images/icons/admon/caution.png" /></td><th align="left">Caution</th></tr><tr><td align="left" valign="top"><p>This does <span class="strong"><strong>not</strong></span> overwrite previous entries. If you index the
same key/value/item combination twice, two index entries are created. To
do update-type operations, you need to delete the old entry before adding
a new one.</p></td></tr></table></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">POST</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/favorites</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "value" : "some value",
  "uri" : "http://localhost:7474/db/data/node/83",
  "key" : "some-key"
}</pre><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">201:</code></strong></span> <code class="literal">Created</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Location:</code></strong></span> <code class="literal">http://localhost:7474/db/data/index/node/favorites/some-key/some%20value/83</code>
</li></ul></div><pre class="programlisting brush: javascript">{
  "extensions" : {
  },
  "outgoing_relationships" : "http://localhost:7474/db/data/node/83/relationships/out",
  "labels" : "http://localhost:7474/db/data/node/83/labels",
  "all_typed_relationships" : "http://localhost:7474/db/data/node/83/relationships/all/{-list|&amp;|types}",
  "traverse" : "http://localhost:7474/db/data/node/83/traverse/{returnType}",
  "self" : "http://localhost:7474/db/data/node/83",
  "property" : "http://localhost:7474/db/data/node/83/properties/{key}",
  "properties" : "http://localhost:7474/db/data/node/83/properties",
  "outgoing_typed_relationships" : "http://localhost:7474/db/data/node/83/relationships/out/{-list|&amp;|types}",
  "incoming_relationships" : "http://localhost:7474/db/data/node/83/relationships/in",
  "create_relationship" : "http://localhost:7474/db/data/node/83/relationships",
  "paged_traverse" : "http://localhost:7474/db/data/node/83/paged/traverse/{returnType}{?pageSize,leaseTime}",
  "all_relationships" : "http://localhost:7474/db/data/node/83/relationships/all",
  "incoming_typed_relationships" : "http://localhost:7474/db/data/node/83/relationships/in/{-list|&amp;|types}",
  "data" : {
  },
  "indexed" : "http://localhost:7474/db/data/index/node/favorites/some-key/some%20value/83"
}</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-remove-all-entries-with-a-given-node-from-an-index"></a>19.18.6. Remove all entries with a given node from an index</h3></div></div></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">DELETE</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/kvnode/89</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">204:</code></strong></span> <code class="literal">No Content</code>
</li></ul></div><pre class="programlisting brush: javascript"></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-remove-all-entries-with-a-given-node-and-key-from-an-index"></a>19.18.7. Remove all entries with a given node and key from an index</h3></div></div></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">DELETE</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/kvnode/kvkey2/91</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">204:</code></strong></span> <code class="literal">No Content</code>
</li></ul></div><pre class="programlisting brush: javascript"></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-remove-all-entries-with-a-given-node"></a>19.18.8. Remove all entries with a given node, key and value from an index</h3></div></div></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">DELETE</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/kvnode/kvkey1/value1/84</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">204:</code></strong></span> <code class="literal">No Content</code>
</li></ul></div><pre class="programlisting brush: javascript"></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-find-node-by-exact-match"></a>19.18.9. Find node by exact match</h3></div></div></div><div class="note" style="margin-left: 0; margin-right: 10%;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/icons/admon/note.png" /></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Spaces in the URI have to be encoded as <code class="literal">%20</code>.</p></td></tr></table></div><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">GET</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/favorites/key/the%2520value</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><pre class="programlisting brush: javascript">[ {
  "indexed" : "http://localhost:7474/db/data/index/node/favorites/key/the%2520value/100",
  "outgoing_relationships" : "http://localhost:7474/db/data/node/100/relationships/out",
  "labels" : "http://localhost:7474/db/data/node/100/labels",
  "data" : {
  },
  "all_typed_relationships" : "http://localhost:7474/db/data/node/100/relationships/all/{-list|&amp;|types}",
  "traverse" : "http://localhost:7474/db/data/node/100/traverse/{returnType}",
  "self" : "http://localhost:7474/db/data/node/100",
  "property" : "http://localhost:7474/db/data/node/100/properties/{key}",
  "properties" : "http://localhost:7474/db/data/node/100/properties",
  "outgoing_typed_relationships" : "http://localhost:7474/db/data/node/100/relationships/out/{-list|&amp;|types}",
  "incoming_relationships" : "http://localhost:7474/db/data/node/100/relationships/in",
  "extensions" : {
  },
  "create_relationship" : "http://localhost:7474/db/data/node/100/relationships",
  "paged_traverse" : "http://localhost:7474/db/data/node/100/paged/traverse/{returnType}{?pageSize,leaseTime}",
  "all_relationships" : "http://localhost:7474/db/data/node/100/relationships/all",
  "incoming_typed_relationships" : "http://localhost:7474/db/data/node/100/relationships/in/{-list|&amp;|types}"
} ]</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="rest-api-find-node-by-query"></a>19.18.10. Find node by query</h3></div></div></div><p>The query language used here depends on what type of index you are
querying. The default index type is Lucene, in which case you should use
the Lucene query language here. Below an example of a fuzzy search over
multiple keys.</p><p>See: <a class="ulink" href="http://lucene.apache.org/core/3_6_2/queryparsersyntax.html" target="_top">http://lucene.apache.org/core/3_6_2/queryparsersyntax.html</a></p><p>Getting the results with a predefined ordering requires adding the
parameter</p><p><code class="literal">order=ordering</code></p><p>where ordering is one of index, relevance or score. In this case an
additional field will be added to each result, named score, that holds
the float value that is the score reported by the query result.</p><p><span class="emphasis"><em>Example request</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">GET</code></strong></span>  <code class="literal">http://localhost:7474/db/data/index/node/bobTheIndex?query=Name:Build~0.1%20AND%20Gender:Male</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Accept:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><p><span class="emphasis"><em>Example response</em></span></p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<span class="strong"><strong><code class="literal">200:</code></strong></span> <code class="literal">OK</code>
</li><li class="listitem">
<span class="strong"><strong><code class="literal">Content-Type:</code></strong></span> <code class="literal">application/json; charset=UTF-8</code>
</li></ul></div><pre class="programlisting brush: javascript">[ {
  "outgoing_relationships" : "http://localhost:7474/db/data/node/99/relationships/out",
  "labels" : "http://localhost:7474/db/data/node/99/labels",
  "data" : {
    "Name" : "Builder"
  },
  "all_typed_relationships" : "http://localhost:7474/db/data/node/99/relationships/all/{-list|&amp;|types}",
  "traverse" : "http://localhost:7474/db/data/node/99/traverse/{returnType}",
  "self" : "http://localhost:7474/db/data/node/99",
  "property" : "http://localhost:7474/db/data/node/99/properties/{key}",
  "properties" : "http://localhost:7474/db/data/node/99/properties",
  "outgoing_typed_relationships" : "http://localhost:7474/db/data/node/99/relationships/out/{-list|&amp;|types}",
  "incoming_relationships" : "http://localhost:7474/db/data/node/99/relationships/in",
  "extensions" : {
  },
  "create_relationship" : "http://localhost:7474/db/data/node/99/relationships",
  "paged_traverse" : "http://localhost:7474/db/data/node/99/paged/traverse/{returnType}{?pageSize,leaseTime}",
  "all_relationships" : "http://localhost:7474/db/data/node/99/relationships/all",
  "incoming_typed_relationships" : "http://localhost:7474/db/data/node/99/relationships/in/{-list|&amp;|types}"
} ]</pre></div></div><HR xmlns=""></HR><a xmlns="" href="ln-idp218960.html"><p xmlns="http://www.w3.org/1999/xhtml" class="copyright">Copyright © 2013 Neo Technology</p></a><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="rest-api-batch-ops.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="rest-api.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="rest-api-unique-indexes.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>
